// File: lang/bbs.js 
var lang={"warning":"警告","tips_title":"提示：","confirm":"确定","confirm_title":"请确认以下信息：","confirm_delete":"确定删除吗？","close":"关闭","yes":"是","no":"否","open":"打开","close":"关闭",};

// File: view/js/popper.js
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):(global.Popper=factory())}(this,(function(){var isBrowser=typeof window!=="undefined"&&typeof document!=="undefined";var longerTimeoutBrowsers=["Edge","Trident","Firefox"];var timeoutDuration=0;for(var i=0;i<longerTimeoutBrowsers.length;i+=1){if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break}}function microtaskDebounce(fn){var called=false;return function(){if(called){return}called=true;window.Promise.resolve().then(function(){called=false;fn()})}}function taskDebounce(fn){var scheduled=false;return function(){if(!scheduled){scheduled=true;setTimeout(function(){scheduled=false;fn()},timeoutDuration)}}}var supportsMicroTasks=isBrowser&&window.Promise;var debounce=supportsMicroTasks?microtaskDebounce:taskDebounce;function isFunction(functionToCheck){var getType={};return functionToCheck&&getType.toString.call(functionToCheck)==="[object Function]"}function getStyleComputedProperty(element,property){if(element.nodeType!==1){return[]}var css=getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){if(element.nodeName==="HTML"){return element}return element.parentNode||element.host}function getScrollParent(element){if(!element){return document.body}switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX,overflowY=_getStyleComputedProp.overflowY;if(/(auto|scroll)/.test(overflow+overflowY+overflowX)){return element}return getScrollParent(getParentNode(element))}function getOffsetParent(element){var offsetParent=element&&element.offsetParent;var nodeName=offsetParent&&offsetParent.nodeName;if(!nodeName||nodeName==="BODY"||nodeName==="HTML"){if(element){return element.ownerDocument.documentElement}return document.documentElement}if(["TD","TABLE"].indexOf(offsetParent.nodeName)!==-1&&getStyleComputedProperty(offsetParent,"position")==="static"){return getOffsetParent(offsetParent)}return offsetParent}function isOffsetContainer(element){var nodeName=element.nodeName;if(nodeName==="BODY"){return false}return nodeName==="HTML"||getOffsetParent(element.firstElementChild)===element}function getRoot(node){if(node.parentNode!==null){return getRoot(node.parentNode)}return node}function findCommonOffsetParent(element1,element2){if(!element1||!element1.nodeType||!element2||!element2.nodeType){return document.documentElement}var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING;var start=order?element1:element2;var end=order?element2:element1;var range=document.createRange();range.setStart(start,0);range.setEnd(end,0);var commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end)){if(isOffsetContainer(commonAncestorContainer)){return commonAncestorContainer}return getOffsetParent(commonAncestorContainer)}var element1root=getRoot(element1);if(element1root.host){return findCommonOffsetParent(element1root.host,element2)}else{return findCommonOffsetParent(element1,getRoot(element2).host)}}function getScroll(element){var side=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top";var upperSide=side==="top"?"scrollTop":"scrollLeft";var nodeName=element.nodeName;if(nodeName==="BODY"||nodeName==="HTML"){var html=element.ownerDocument.documentElement;var scrollingElement=element.ownerDocument.scrollingElement||html;return scrollingElement[upperSide]}return element[upperSide]}function includeScroll(rect,element){var subtract=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var scrollTop=getScroll(element,"top");var scrollLeft=getScroll(element,"left");var modifier=subtract?-1:1;rect.top+=scrollTop*modifier;rect.bottom+=scrollTop*modifier;rect.left+=scrollLeft*modifier;rect.right+=scrollLeft*modifier;return rect}function getBordersSize(styles,axis){var sideA=axis==="x"?"Left":"Top";var sideB=sideA==="Left"?"Right":"Bottom";return parseFloat(styles["border"+sideA+"Width"],10)+parseFloat(styles["border"+sideB+"Width"],10)}var isIE10=undefined;var isIE10$1=function(){if(isIE10===undefined){isIE10=navigator.appVersion.indexOf("MSIE 10")!==-1}return isIE10};function getSize(axis,body,html,computedStyle){return Math.max(body["offset"+axis],body["scroll"+axis],html["client"+axis],html["offset"+axis],html["scroll"+axis],isIE10$1()?html["offset"+axis]+computedStyle["margin"+(axis==="Height"?"Top":"Left")]+computedStyle["margin"+(axis==="Height"?"Bottom":"Right")]:0)}function getWindowSizes(){var body=document.body;var html=document.documentElement;var computedStyle=isIE10$1()&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}
}var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value" in descriptor){descriptor.writable=true}Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps){defineProperties(Constructor.prototype,protoProps)}if(staticProps){defineProperties(Constructor,staticProps)}return Constructor}}();var defineProperty=function(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function getClientRect(offsets){return _extends({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}function getBoundingClientRect(element){var rect={};if(isIE10$1()){try{rect=element.getBoundingClientRect();var scrollTop=getScroll(element,"top");var scrollLeft=getScroll(element,"left");rect.top+=scrollTop;rect.left+=scrollLeft;rect.bottom+=scrollTop;rect.right+=scrollLeft}catch(err){}}else{rect=element.getBoundingClientRect()}var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top};var sizes=element.nodeName==="HTML"?getWindowSizes():{};var width=sizes.width||element.clientWidth||result.right-result.left;var height=sizes.height||element.clientHeight||result.bottom-result.top;var horizScrollbar=element.offsetWidth-width;var vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,"x");vertScrollbar-=getBordersSize(styles,"y");result.width-=horizScrollbar;result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent){var isIE10=isIE10$1();var isHTML=parent.nodeName==="HTML";var childrenRect=getBoundingClientRect(children);var parentRect=getBoundingClientRect(parent);var scrollParent=getScrollParent(children);var styles=getStyleComputedProperty(parent);var borderTopWidth=parseFloat(styles.borderTopWidth,10);var borderLeftWidth=parseFloat(styles.borderLeftWidth,10);var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});offsets.marginTop=0;offsets.marginLeft=0;if(!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop,10);var marginLeft=parseFloat(styles.marginLeft,10);offsets.top-=borderTopWidth-marginTop;offsets.bottom-=borderTopWidth-marginTop;offsets.left-=borderLeftWidth-marginLeft;offsets.right-=borderLeftWidth-marginLeft;offsets.marginTop=marginTop;offsets.marginLeft=marginLeft}if(isIE10?parent.contains(scrollParent):parent===scrollParent&&scrollParent.nodeName!=="BODY"){offsets=includeScroll(offsets,parent)}return offsets}function getViewportOffsetRectRelativeToArtbitraryNode(element){var html=element.ownerDocument.documentElement;var relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html);var width=Math.max(html.clientWidth,window.innerWidth||0);var height=Math.max(html.clientHeight,window.innerHeight||0);var scrollTop=getScroll(html);var scrollLeft=getScroll(html,"left");var offset={top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width:width,height:height};return getClientRect(offset)}function isFixed(element){var nodeName=element.nodeName;if(nodeName==="BODY"||nodeName==="HTML"){return false}if(getStyleComputedProperty(element,"position")==="fixed"){return true}return isFixed(getParentNode(element))}function getBoundaries(popper,reference,padding,boundariesElement){var boundaries={top:0,left:0};var offsetParent=findCommonOffsetParent(popper,reference);if(boundariesElement==="viewport"){boundaries=getViewportOffsetRectRelativeToArtbitraryNode(offsetParent)}else{var boundariesNode=void 0;if(boundariesElement==="scrollParent"){boundariesNode=getScrollParent(getParentNode(reference));if(boundariesNode.nodeName==="BODY"){boundariesNode=popper.ownerDocument.documentElement}}else{if(boundariesElement==="window"){boundariesNode=popper.ownerDocument.documentElement}else{boundariesNode=boundariesElement}}var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent);if(boundariesNode.nodeName==="HTML"&&!isFixed(offsetParent)){var _getWindowSizes=getWindowSizes(),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop;boundaries.bottom=height+offsets.top;boundaries.left+=offsets.left-offsets.marginLeft;
boundaries.right=width+offsets.left}else{boundaries=offsets}}boundaries.left+=padding;boundaries.top+=padding;boundaries.right-=padding;boundaries.bottom-=padding;return boundaries}function getArea(_ref){var width=_ref.width,height=_ref.height;return width*height}function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(placement.indexOf("auto")===-1){return placement}var boundaries=getBoundaries(popper,reference,padding,boundariesElement);var rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}};var sortedAreas=Object.keys(rects).map(function(key){return _extends({key:key},rects[key],{area:getArea(rects[key])})}).sort(function(a,b){return b.area-a.area});var filteredAreas=sortedAreas.filter(function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight});var computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key;var variation=placement.split("-")[1];return computedPlacement+(variation?"-"+variation:"")}function getReferenceOffsets(state,popper,reference){var commonOffsetParent=findCommonOffsetParent(popper,reference);return getOffsetRectRelativeToArbitraryNode(reference,commonOffsetParent)}function getOuterSizes(element){var styles=getComputedStyle(element);var x=parseFloat(styles.marginTop)+parseFloat(styles.marginBottom);var y=parseFloat(styles.marginLeft)+parseFloat(styles.marginRight);var result={width:element.offsetWidth+y,height:element.offsetHeight+x};return result}function getOppositePlacement(placement){var hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,function(matched){return hash[matched]})}function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split("-")[0];var popperRect=getOuterSizes(popper);var popperOffsets={width:popperRect.width,height:popperRect.height};var isHoriz=["right","left"].indexOf(placement)!==-1;var mainSide=isHoriz?"top":"left";var secondarySide=isHoriz?"left":"top";var measurement=isHoriz?"height":"width";var secondaryMeasurement=!isHoriz?"height":"width";popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2;if(placement===secondarySide){popperOffsets[secondarySide]=referenceOffsets[secondarySide]-popperRect[secondaryMeasurement]}else{popperOffsets[secondarySide]=referenceOffsets[getOppositePlacement(secondarySide)]}return popperOffsets}function find(arr,check){if(Array.prototype.find){return arr.find(check)}return arr.filter(check)[0]}function findIndex(arr,prop,value){if(Array.prototype.findIndex){return arr.findIndex(function(cur){return cur[prop]===value})}var match=find(arr,function(obj){return obj[prop]===value});return arr.indexOf(match)}function runModifiers(modifiers,data,ends){var modifiersToRun=ends===undefined?modifiers:modifiers.slice(0,findIndex(modifiers,"name",ends));modifiersToRun.forEach(function(modifier){if(modifier["function"]){console.warn("`modifier.function` is deprecated, use `modifier.fn`!")}var fn=modifier["function"]||modifier.fn;if(modifier.enabled&&isFunction(fn)){data.offsets.popper=getClientRect(data.offsets.popper);data.offsets.reference=getClientRect(data.offsets.reference);data=fn(data,modifier)}});return data}function update(){if(this.state.isDestroyed){return}var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:false,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference);data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);data.originalPlacement=data.placement;data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement);data.offsets.popper.position="absolute";data=runModifiers(this.modifiers,data);if(!this.state.isCreated){this.state.isCreated=true;this.options.onCreate(data)}else{this.options.onUpdate(data)}}function isModifierEnabled(modifiers,modifierName){return modifiers.some(function(_ref){var name=_ref.name,enabled=_ref.enabled;return enabled&&name===modifierName})}function getSupportedPropertyName(property){var prefixes=[false,"ms","Webkit","Moz","O"];var upperProp=property.charAt(0).toUpperCase()+property.slice(1);for(var i=0;i<prefixes.length-1;i++){var prefix=prefixes[i];var toCheck=prefix?""+prefix+upperProp:property;if(typeof document.body.style[toCheck]!=="undefined"){return toCheck}}return null}function destroy(){this.state.isDestroyed=true;if(isModifierEnabled(this.modifiers,"applyStyle")){this.popper.removeAttribute("x-placement");this.popper.style.left="";this.popper.style.position="";
this.popper.style.top="";this.popper.style[getSupportedPropertyName("transform")]=""}this.disableEventListeners();if(this.options.removeOnDestroy){this.popper.parentNode.removeChild(this.popper)}return this}function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window}function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody=scrollParent.nodeName==="BODY";var target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:true});if(!isBody){attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents)}scrollParents.push(target)}function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound;getWindow(reference).addEventListener("resize",state.updateBound,{passive:true});var scrollElement=getScrollParent(reference);attachToScrollParents(scrollElement,"scroll",state.updateBound,state.scrollParents);state.scrollElement=scrollElement;state.eventsEnabled=true;return state}function enableEventListeners(){if(!this.state.eventsEnabled){this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate)}}function removeEventListeners(reference,state){getWindow(reference).removeEventListener("resize",state.updateBound);state.scrollParents.forEach(function(target){target.removeEventListener("scroll",state.updateBound)});state.updateBound=null;state.scrollParents=[];state.scrollElement=null;state.eventsEnabled=false;return state}function disableEventListeners(){if(this.state.eventsEnabled){cancelAnimationFrame(this.scheduleUpdate);this.state=removeEventListeners(this.reference,this.state)}}function isNumeric(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(n)}function setStyles(element,styles){Object.keys(styles).forEach(function(prop){var unit="";if(["width","height","top","right","bottom","left"].indexOf(prop)!==-1&&isNumeric(styles[prop])){unit="px"}element.style[prop]=styles[prop]+unit})}function setAttributes(element,attributes){Object.keys(attributes).forEach(function(prop){var value=attributes[prop];if(value!==false){element.setAttribute(prop,attributes[prop])}else{element.removeAttribute(prop)}})}function applyStyle(data){setStyles(data.instance.popper,data.styles);setAttributes(data.instance.popper,data.attributes);if(data.arrowElement&&Object.keys(data.arrowStyles).length){setStyles(data.arrowElement,data.arrowStyles)}return data}function applyStyleOnLoad(reference,popper,options,modifierOptions,state){var referenceOffsets=getReferenceOffsets(state,popper,reference);var placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);popper.setAttribute("x-placement",placement);setStyles(popper,{position:"absolute"});return options}function computeStyle(data,options){var x=options.x,y=options.y;var popper=data.offsets.popper;var legacyGpuAccelerationOption=find(data.instance.modifiers,function(modifier){return modifier.name==="applyStyle"}).gpuAcceleration;if(legacyGpuAccelerationOption!==undefined){console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!")}var gpuAcceleration=legacyGpuAccelerationOption!==undefined?legacyGpuAccelerationOption:options.gpuAcceleration;var offsetParent=getOffsetParent(data.instance.popper);var offsetParentRect=getBoundingClientRect(offsetParent);var styles={position:popper.position};var offsets={left:Math.floor(popper.left),top:Math.floor(popper.top),bottom:Math.floor(popper.bottom),right:Math.floor(popper.right)};var sideA=x==="bottom"?"top":"bottom";var sideB=y==="right"?"left":"right";var prefixedProperty=getSupportedPropertyName("transform");var left=void 0,top=void 0;if(sideA==="bottom"){top=-offsetParentRect.height+offsets.bottom}else{top=offsets.top}if(sideB==="right"){left=-offsetParentRect.width+offsets.right}else{left=offsets.left}if(gpuAcceleration&&prefixedProperty){styles[prefixedProperty]="translate3d("+left+"px, "+top+"px, 0)";styles[sideA]=0;styles[sideB]=0;styles.willChange="transform"}else{var invertTop=sideA==="bottom"?-1:1;var invertLeft=sideB==="right"?-1:1;styles[sideA]=top*invertTop;styles[sideB]=left*invertLeft;styles.willChange=sideA+", "+sideB}var attributes={"x-placement":data.placement};data.attributes=_extends({},attributes,data.attributes);data.styles=_extends({},styles,data.styles);data.arrowStyles=_extends({},data.offsets.arrow,data.arrowStyles);return data}function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,function(_ref){var name=_ref.name;return name===requestingName});var isRequired=!!requesting&&modifiers.some(function(modifier){return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order});if(!isRequired){var _requesting="`"+requestingName+"`";var requested="`"+requestedName+"`";console.warn(requested+" modifier is required by "+_requesting+" modifier in order to work, be sure to include it before "+_requesting+"!")
}return isRequired}function arrow(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,"arrow","keepTogether")){return data}var arrowElement=options.element;if(typeof arrowElement==="string"){arrowElement=data.instance.popper.querySelector(arrowElement);if(!arrowElement){return data}}else{if(!data.instance.popper.contains(arrowElement)){console.warn("WARNING: `arrow.element` must be child of its popper element!");return data}}var placement=data.placement.split("-")[0];var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var isVertical=["left","right"].indexOf(placement)!==-1;var len=isVertical?"height":"width";var sideCapitalized=isVertical?"Top":"Left";var side=sideCapitalized.toLowerCase();var altSide=isVertical?"left":"top";var opSide=isVertical?"bottom":"right";var arrowElementSize=getOuterSizes(arrowElement)[len];if(reference[opSide]-arrowElementSize<popper[side]){data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize)}if(reference[side]+arrowElementSize>popper[opSide]){data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide]}data.offsets.popper=getClientRect(data.offsets.popper);var center=reference[side]+reference[len]/2-arrowElementSize/2;var css=getStyleComputedProperty(data.instance.popper);var popperMarginSide=parseFloat(css["margin"+sideCapitalized],10);var popperBorderSide=parseFloat(css["border"+sideCapitalized+"Width"],10);var sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0);data.arrowElement=arrowElement;data.offsets.arrow=(_data$offsets$arrow={},defineProperty(_data$offsets$arrow,side,Math.round(sideValue)),defineProperty(_data$offsets$arrow,altSide,""),_data$offsets$arrow);return data}function getOppositeVariation(variation){if(variation==="end"){return"start"}else{if(variation==="start"){return"end"}}return variation}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];var validPlacements=placements.slice(3);function clockwise(placement){var counter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var index=validPlacements.indexOf(placement);var arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function flip(data,options){if(isModifierEnabled(data.instance.modifiers,"inner")){return data}if(data.flipped&&data.placement===data.originalPlacement){return data}var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement);var placement=data.placement.split("-")[0];var placementOpposite=getOppositePlacement(placement);var variation=data.placement.split("-")[1]||"";var flipOrder=[];switch(options.behavior){case BEHAVIORS.FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS.CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS.COUNTERCLOCKWISE:flipOrder=clockwise(placement,true);break;default:flipOrder=options.behavior}flipOrder.forEach(function(step,index){if(placement!==step||flipOrder.length===index+1){return data}placement=data.placement.split("-")[0];placementOpposite=getOppositePlacement(placement);var popperOffsets=data.offsets.popper;var refOffsets=data.offsets.reference;var floor=Math.floor;var overlapsRef=placement==="left"&&floor(popperOffsets.right)>floor(refOffsets.left)||placement==="right"&&floor(popperOffsets.left)<floor(refOffsets.right)||placement==="top"&&floor(popperOffsets.bottom)>floor(refOffsets.top)||placement==="bottom"&&floor(popperOffsets.top)<floor(refOffsets.bottom);var overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left);var overflowsRight=floor(popperOffsets.right)>floor(boundaries.right);var overflowsTop=floor(popperOffsets.top)<floor(boundaries.top);var overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom);var overflowsBoundaries=placement==="left"&&overflowsLeft||placement==="right"&&overflowsRight||placement==="top"&&overflowsTop||placement==="bottom"&&overflowsBottom;var isVertical=["top","bottom"].indexOf(placement)!==-1;var flippedVariation=!!options.flipVariations&&(isVertical&&variation==="start"&&overflowsLeft||isVertical&&variation==="end"&&overflowsRight||!isVertical&&variation==="start"&&overflowsTop||!isVertical&&variation==="end"&&overflowsBottom);if(overlapsRef||overflowsBoundaries||flippedVariation){data.flipped=true;if(overlapsRef||overflowsBoundaries){placement=flipOrder[index+1]}if(flippedVariation){variation=getOppositeVariation(variation)}data.placement=placement+(variation?"-"+variation:"");data.offsets.popper=_extends({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement));data=runModifiers(data.instance.modifiers,data,"flip")
}});return data}function keepTogether(data){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var placement=data.placement.split("-")[0];var floor=Math.floor;var isVertical=["top","bottom"].indexOf(placement)!==-1;var side=isVertical?"right":"bottom";var opSide=isVertical?"left":"top";var measurement=isVertical?"width":"height";if(popper[side]<floor(reference[opSide])){data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement]}if(popper[opSide]>floor(reference[side])){data.offsets.popper[opSide]=floor(reference[side])}return data}function toValue(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var value=+split[1];var unit=split[2];if(!value){return str}if(unit.indexOf("%")===0){var element=void 0;switch(unit){case"%p":element=popperOffsets;break;case"%":case"%r":default:element=referenceOffsets}var rect=getClientRect(element);return rect[measurement]/100*value}else{if(unit==="vh"||unit==="vw"){var size=void 0;if(unit==="vh"){size=Math.max(document.documentElement.clientHeight,window.innerHeight||0)}else{size=Math.max(document.documentElement.clientWidth,window.innerWidth||0)}return size/100*value}else{return value}}}function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0];var useHeight=["right","left"].indexOf(basePlacement)!==-1;var fragments=offset.split(/(\+|\-)/).map(function(frag){return frag.trim()});var divider=fragments.indexOf(find(fragments,function(frag){return frag.search(/,|\s/)!==-1}));if(fragments[divider]&&fragments[divider].indexOf(",")===-1){console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.")}var splitRegex=/\s*,\s*|\s+/;var ops=divider!==-1?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];ops=ops.map(function(op,index){var measurement=(index===1?!useHeight:useHeight)?"height":"width";var mergeWithPrevious=false;return op.reduce(function(a,b){if(a[a.length-1]===""&&["+","-"].indexOf(b)!==-1){a[a.length-1]=b;mergeWithPrevious=true;return a}else{if(mergeWithPrevious){a[a.length-1]+=b;mergeWithPrevious=false;return a}else{return a.concat(b)}}},[]).map(function(str){return toValue(str,measurement,popperOffsets,referenceOffsets)})});ops.forEach(function(op,index){op.forEach(function(frag,index2){if(isNumeric(frag)){offsets[index]+=frag*(op[index2-1]==="-"?-1:1)}})});return offsets}function offset(data,_ref){var offset=_ref.offset;var placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var basePlacement=placement.split("-")[0];var offsets=void 0;if(isNumeric(+offset)){offsets=[+offset,0]}else{offsets=parseOffset(offset,popper,reference,basePlacement)}if(basePlacement==="left"){popper.top+=offsets[0];popper.left-=offsets[1]}else{if(basePlacement==="right"){popper.top+=offsets[0];popper.left+=offsets[1]}else{if(basePlacement==="top"){popper.left+=offsets[0];popper.top-=offsets[1]}else{if(basePlacement==="bottom"){popper.left+=offsets[0];popper.top+=offsets[1]}}}}data.popper=popper;return data}function preventOverflow(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);if(data.instance.reference===boundariesElement){boundariesElement=getOffsetParent(boundariesElement)}var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement);options.boundaries=boundaries;var order=options.priority;var popper=data.offsets.popper;var check={primary:function primary(placement){var value=popper[placement];if(popper[placement]<boundaries[placement]&&!options.escapeWithReference){value=Math.max(popper[placement],boundaries[placement])}return defineProperty({},placement,value)},secondary:function secondary(placement){var mainSide=placement==="right"?"left":"top";var value=popper[mainSide];if(popper[placement]>boundaries[placement]&&!options.escapeWithReference){value=Math.min(popper[mainSide],boundaries[placement]-(placement==="right"?popper.width:popper.height))}return defineProperty({},mainSide,value)}};order.forEach(function(placement){var side=["left","top"].indexOf(placement)!==-1?"primary":"secondary";popper=_extends({},popper,check[side](placement))});data.offsets.popper=popper;return data}function shift(data){var placement=data.placement;var basePlacement=placement.split("-")[0];var shiftvariation=placement.split("-")[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper;var isVertical=["bottom","top"].indexOf(basePlacement)!==-1;var side=isVertical?"left":"top";var measurement=isVertical?"width":"height";var shiftOffsets={start:defineProperty({},side,reference[side]),end:defineProperty({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends({},popper,shiftOffsets[shiftvariation])
}return data}function hide(data){if(!isModifierRequired(data.instance.modifiers,"hide","preventOverflow")){return data}var refRect=data.offsets.reference;var bound=find(data.instance.modifiers,function(modifier){return modifier.name==="preventOverflow"}).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(data.hide===true){return data}data.hide=true;data.attributes["x-out-of-boundaries"]=""}else{if(data.hide===false){return data}data.hide=false;data.attributes["x-out-of-boundaries"]=false}return data}function inner(data){var placement=data.placement;var basePlacement=placement.split("-")[0];var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference;var isHoriz=["left","right"].indexOf(basePlacement)!==-1;var subtractLength=["top","left"].indexOf(basePlacement)===-1;popper[isHoriz?"left":"top"]=reference[basePlacement]-(subtractLength?popper[isHoriz?"width":"height"]:0);data.placement=getOppositePlacement(placement);data.offsets.popper=getClientRect(popper);return data}var modifiers={shift:{order:100,enabled:true,fn:shift},offset:{order:200,enabled:true,fn:offset,offset:0},preventOverflow:{order:300,enabled:true,fn:preventOverflow,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:true,fn:keepTogether},arrow:{order:500,enabled:true,fn:arrow,element:"[x-arrow]"},flip:{order:600,enabled:true,fn:flip,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:false,fn:inner},hide:{order:800,enabled:true,fn:hide},computeStyle:{order:850,enabled:true,fn:computeStyle,gpuAcceleration:true,x:"bottom",y:"right"},applyStyle:{order:900,enabled:true,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:undefined}};var Defaults={placement:"bottom",eventsEnabled:true,removeOnDestroy:false,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers:modifiers};var Popper=function(){function Popper(reference,popper){var _this=this;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};classCallCheck(this,Popper);this.scheduleUpdate=function(){return requestAnimationFrame(_this.update)};this.update=debounce(this.update.bind(this));this.options=_extends({},Popper.Defaults,options);this.state={isDestroyed:false,isCreated:false,scrollParents:[]};this.reference=reference&&reference.jquery?reference[0]:reference;this.popper=popper&&popper.jquery?popper[0]:popper;this.options.modifiers={};Object.keys(_extends({},Popper.Defaults.modifiers,options.modifiers)).forEach(function(name){_this.options.modifiers[name]=_extends({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(name){return _extends({name:name},_this.options.modifiers[name])}).sort(function(a,b){return a.order-b.order});this.modifiers.forEach(function(modifierOptions){if(modifierOptions.enabled&&isFunction(modifierOptions.onLoad)){modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state)}});this.update();var eventsEnabled=this.options.eventsEnabled;if(eventsEnabled){this.enableEventListeners()}this.state.eventsEnabled=eventsEnabled}createClass(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]);return Popper}();Popper.Utils=(typeof window!=="undefined"?window:global).PopperUtils;Popper.placements=placements;Popper.Defaults=Defaults;return Popper})));

// File: view/xiuno.js
if(!Object.keys){Object.keys=function(o){var arr=[];for(var k in o){if(o.hasOwnProperty(k)){arr.push(k)}}return arr}}if(!Object.values){Object.values=function(o){var arr=[];if(!o){return arr}for(var k in o){if(o.hasOwnProperty(k)){arr.push(o[k])}}return arr}}Array.values=function(arr){return xn.array_filter(arr)};Object.first=function(obj){for(var k in obj){return obj[k]}};Object.last=function(obj){for(var k in obj){}return obj[k]};Object.length=function(obj){var n=0;for(var k in obj){n++}return n};Object.count=function(obj){if(!obj){return 0}if(obj.length){return obj.length}var n=0;for(k in obj){if(obj.hasOwnProperty(k)){n++}}return n};Object.sum=function(obj){var sum=0;$.each(obj,function(k,v){sum+=intval(v)});return sum};if(typeof console=="undefined"){console={};console.log=function(){}}var xn={};xn.is_ie=(!!document.all)?true:false;xn.is_ie_10=navigator.userAgent.indexOf("Trident")!=-1;xn.is_ff=navigator.userAgent.indexOf("Firefox")!=-1;xn.in_mobile=($(window).width()<1140);xn.options={};xn.options.water_image_url="view/img/water-small.png";xn.htmlspecialchars=function(s){s=s.replace(/</g,"&lt;");s=s.replace(/>/g,"&gt;");return s};xn._urlencode=function(s){s=encodeURIComponent(s);s=xn.strtolower(s);return s};xn._urldecode=function(s){s=decodeURIComponent(s);return s};xn.urlencode=function(s){s=encodeURIComponent(s);s=s.replace(/_/g,"%5f");s=s.replace(/\-/g,"%2d");s=s.replace(/\./g,"%2e");s=s.replace(/\~/g,"%7e");s=s.replace(/\!/g,"%21");s=s.replace(/\*/g,"%2a");s=s.replace(/\(/g,"%28");s=s.replace(/\)/g,"%29");s=s.replace(/\%/g,"_");return s};xn.urldecode=function(s){s=s.replace(/_/g,"%");s=decodeURIComponent(s);return s};xn.xn_urlencode=xn.urlencode_safe;xn.xn_urldecode=xn.urldecode_safe;xn.nl2br=function(s){s=s.replace(/\r\n/g,"\n");s=s.replace(/\n/g,"<br>");s=s.replace(/\t/g,"&nbsp; &nbsp; &nbsp; &nbsp; ");return s};xn.time=function(){return xn.intval(Date.now()/1000)};xn.intval=function(s){var i=parseInt(s);return isNaN(i)?0:i};xn.floatval=function(s){if(!s){return 0}if(s.constructor===Array){for(var i=0;i<s.length;i++){s[i]=xn.floatval(s[i])}return s}var r=parseFloat(s);return isNaN(r)?0:r};xn.isset=function(k){var t=typeof k;return t!="undefined"&&t!="unknown"};xn.empty=function(s){if(s=="0"){return true}if(!s){return true}else{if(s.constructor===Object){return Object.keys(s).length==0}else{if(s.constructor===Array){return s.length==0}}return false}};xn.ceil=Math.ceil;xn.round=Math.round;xn.floor=Math.floor;xn.f2y=function(i,callback){if(!callback){callback=round}var r=i/100;return callback(r)};xn.y2f=function(s){var r=xn.round(xn.intval(s)*100);return r};xn.strtolower=function(s){s+="";return s.toLowerCase()};xn.strtoupper=function(s){s+="";return s.toUpperCase()};xn.json_type=function(o){var _toS=Object.prototype.toString;var _types={"undefined":"undefined","number":"number","boolean":"boolean","string":"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};return _types[typeof o]||_types[_toS.call(o)]||(o?"object":"null")};xn.json_encode=function(o){var json_replace_chars=function(chr){var specialChars={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return specialChars[chr]||"\\u00"+Math.floor(chr.charCodeAt()/16).toString(16)+(chr.charCodeAt()%16).toString(16)};var s=[];switch(xn.json_type(o)){case"undefined":return"undefined";break;case"null":return"null";break;case"number":case"boolean":case"date":case"function":return o.toString();break;case"string":return'"'+o.replace(/[\x00-\x1f\\"]/g,json_replace_chars)+'"';break;case"array":for(var i=0,l=o.length;i<l;i++){s.push(xn.json_encode(o[i]))}return"["+s.join(",")+"]";break;case"error":case"object":for(var p in o){s.push('"'+p+'"'+":"+xn.json_encode(o[p]))}return"{"+s.join(",")+"}";break;default:return"";break}};xn.json_decode=function(s){if(!s){return null}try{if(s.match(/^<!DOCTYPE/i)){return null}var json=$.parseJSON(s);return json}catch(e){return null}};xn.clone=function(obj){return xn.json_decode(xn.json_encode(obj))};xn.min=function(){return Math.min.apply(this,arguments)};xn.max=function(){return Math.max.apply(this,arguments)};xn.str_replace=function(s,d,str){var p=new RegExp(s,"g");return str.replace(p,d)};xn.strrpos=function(str,s){return str.lastIndexOf(s)};xn.strpos=function(str,s){return str.indexOf(s)};xn.substr=function(str,start,len){if(!str){return""}var end=length;var length=str.length;if(start<0){start=length+start}if(!len){end=length}else{if(len>0){end=start+len}else{end=length+len}}return str.substring(start,end)};xn.explode=function(sep,s){return s.split(sep)};xn.implode=function(glur,arr){return arr.join(glur)};xn.array_merge=function(arr1,arr2){return arr1&&arr1.__proto__===Array.prototype&&arr2&&arr2.__proto__===Array.prototype?arr1.concat(arr2):$.extend(arr1,arr2)};xn.array_diff=function(arr1,arr2){if(arr1.__proto__===Array.prototype){var o={};for(var i=0,len=arr2.length;i<len;i++){o[arr2[i]]=true}var r=[];
for(i=0,len=arr1.length;i<len;i++){var v=arr1[i];if(o[v]){continue}r.push(v)}return r}else{var r={};for(k in arr1){if(!arr2[k]){r[k]=arr1[k]}}return r}};xn.array_filter=function(arr,callback){var newarr=[];for(var k in arr){var v=arr[k];if(callback&&callback(k,v)){continue}newarr.push(v)}return newarr};xn.array_keys=function(obj){var arr=[];$.each(obj,function(k){arr.push(k)});return arr};xn.array_values=function(obj){var arr=[];$.each(obj,function(k,v){arr.push(v)});return arr};xn.in_array=function(v,arr){return $.inArray(v,arr)!=-1};xn.rand=function(n){var str="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";var r="";for(i=0;i<n;i++){r+=str.charAt(Math.floor(Math.random()*str.length))}return r};xn.random=function(min,max){var num=Math.random()*(max-min+1)+min;var r=Math.ceil(num);return r};xn.template=function(s,json){for(k in json){var r=new RegExp("{("+k+")}","g");s=s.replace(r,function(match,name){return json[name]})}return s};xn.is_mobile=function(s){var r=/^\d{11}$/;if(!s){return false}else{if(!r.test(s)){return false}}return true};xn.is_email=function(s){var r=/^[\w\-\.]+@[\w\-\.]+(\.\w+)+$/i;if(!s){return false}else{if(!r.test(s)){return false}}return true};xn.is_string=function(obj){return Object.prototype.toString.apply(obj)=="[object String]"};xn.is_function=function(obj){return Object.prototype.toString.apply(obj)=="[object Function]"};xn.is_array=function(obj){return Object.prototype.toString.apply(obj)=="[object Array]"};xn.is_number=function(obj){return Object.prototype.toString.apply(obj)=="[object Number]"||/^\d+$/.test(obj)};xn.is_regexp=function(obj){return Object.prototype.toString.apply(obj)=="[object RegExp]"};xn.is_object=function(obj){return Object.prototype.toString.apply(obj)=="[object Object]"};xn.is_element=function(obj){return !!(obj&&obj.nodeType===1)};xn.lang=function(key,arr){var r=lang[key]?lang[key]:"lang["+key+"]";if(arr){$.each(arr,function(k,v){r=xn.str_replace("{"+k+"}",v,r)})}return r};xn.pages=function(url,totalnum,page,pagesize){if(!page){page=1}if(!pagesize){pagesize=20}var totalpage=xn.ceil(totalnum/pagesize);if(totalpage<2){return""}page=xn.min(totalpage,page);var shownum=5;var start=xn.max(1,page-shownum);var end=xn.min(totalpage,page+shownum);var right=page+shownum-totalpage;if(right>0){start=xn.max(1,start-=right)}left=page-shownum;if(left<0){end=xn.min(totalpage,end-=left)}var s="";if(page!=1){s+='<a href="'+xn.str_replace("{page}",page-1,url)+'">◀</a>'}if(start>1){s+='<a href="'+xn.str_replace("{page}",1,url)+'">1 '+(start>2?"... ":"")+"</a>"}for(i=start;i<=end;i++){if(i==page){s+='<a href="'+xn.str_replace("{page}",i,url)+'" class="active">'+i+"</a>"}else{s+='<a href="'+xn.str_replace("{page}",i,url)+'">'+i+"</a>"}}if(end!=totalpage){s+='<a href="'+xn.str_replace("{page}",totalpage,url)+'">'+(totalpage-end>1?"... ":"")+totalpage+"</a>"}if(page!=totalpage){s+='<a href="'+xn.str_replace("{page}",page+1,url)+'">▶</a>'}return s};xn.parse_url=function(url){if(url.match(/^(([a-z]+):)\/\//i)){var arr=url.match(/^(([a-z]+):\/\/)?([^\/\?#]+)\/*([^\?#]*)\??([^#]*)#?(\w*)$/i);if(!arr){return null}var r={"schema":arr[2],"host":arr[3],"path":arr[4],"query":arr[5],"anchor":arr[6],"requesturi":arr[4]+(arr[5]?"?"+arr[5]:"")+(arr[6]?"#"+arr[6]:"")};console.log(r);return r}else{var arr=url.match(/^([^\?#]*)\??([^#]*)#?(\w*)$/i);if(!arr){return null}var r={"schema":"","host":"","path":arr[1],"query":arr[2],"anchor":arr[3],"requesturi":arr[1]+(arr[2]?"?"+arr[2]:"")+(arr[3]?"#"+arr[3]:"")};console.log(r);return r}};xn.parse_str=function(str){var sep1="=";var sep2="&";var arr=str.split(sep2);var arr2={};for(var x=0;x<arr.length;x++){var tmp=arr[x].split(sep1);arr2[unescape(tmp[0])]=unescape(tmp[1]).replace(/[+]/g," ")}return arr2};xn.parse_url_param=function(url){var arr=xn.parse_url(url);var q=arr.path;var pos=xn.strrpos(q,"/");q=xn.substr(q,pos+1);var r=[];if(xn.substr(q,-4)==".htm"){q=xn.substr(q,0,-4);r=xn.explode("-",q)}else{if(url&&url!=window.location&&url!="."&&url!="/"&&url!="./"){r=["thread","seo",url]}}if(!empty(arr["query"])){var arr2=xn.parse_str(arr["query"]);r=xn.array_merge(r,arr2)}return r};xn.param=function(key){};xn.url=function(u,url_rewrite){var on=window.url_rewrite_on||url_rewrite;if(xn.strpos(u,"/")!=-1){var path=xn.substr(u,0,xn.strrpos(u,"/")+1);var query=xn.substr(u,xn.strrpos(u,"/")+1)}else{var path="";var query=u}var r="";if(!on){r=path+"?"+query+".htm"}else{if(on==1){r=path+query+".htm"}else{if(on==2){r=path+"?"+xn.str_replace("-","/",query)}else{if(on==3){r=path+xn.str_replace("-","/",query)}}}}return r};xn.url_add_arg=function(url,k,v){var pos=xn.strpos(url,".htm");if(pos===false){return xn.strpos(url,"?")===false?url+"&"+k+"="+v:url+"?"+k+"="+v}else{return xn.substr(url,0,pos)+"-"+v+xn.substr(url,pos)}};$.location=function(url,seconds){if(seconds===undefined){seconds=1}setTimeout(function(){window.location="./"},seconds*(debug?2000:1000))};xn.arrlist_values=function(arrlist,key){var r=[];arrlist.map(function(arr){r.push(arr[key])});return r};xn.arrlist_key_values=function(arrlist,key,val,pre){var r={};
var pre=pre||"";arrlist.map(function(arr){r[arr[pre+key]]=arr[val]});return r};xn.arrlist_keep_keys=function(arrlist,keys){if(!xn.is_array(keys)){keys=[keys]}for(k in arrlist){var arr=arrlist[k];var newarr={};for(k2 in keys){var key=keys[k2];newarr[key]=arr[key]}arrlist[k]=newarr}return arrlist};xn.arrlist_multisort=function(arrlist,k,asc){var arrlist=arrlist.sort(function(a,b){if(a[k]==b[k]){return 0}var r=a[k]>b[k];r=asc?r:!r;return r?1:-1});return arrlist};$.pdata=function(key,value){var r="";if(typeof value!="undefined"){value=xn.json_encode(value)}try{if(window.localStorage){if(typeof value=="undefined"){r=localStorage.getItem(key);return xn.json_decode(r)}else{return localStorage.setItem(key,value)}}}catch(e){}if(xn.is_ie&&(!document.documentElement||typeof document.documentElement.load=="unknown"||!document.documentElement.load)){return""}if(typeof value=="undefined"){if(xn.is_ie){try{document.documentElement.load(key);r=document.documentElement.getAttribute(key)}catch(e){r=""}}else{try{r=sessionStorage.getItem(key)&&sessionStorage.getItem(key).toString().length==0?"":(sessionStorage.getItem(key)==null?"":sessionStorage.getItem(key))}catch(e){r=""}}return xn.json_decode(r)}else{if(xn.is_ie){try{document.documentElement.load(key);document.documentElement.setAttribute(key,value);document.documentElement.save(key);return document.documentElement.getAttribute(key)}catch(error){}}else{try{return sessionStorage.setItem(key,value)}catch(error){}}}};$.cookie=function(name,value,time,path){if(typeof value!="undefined"){if(value===null){var value="";var time=-1}if(typeof time!="undefined"){date=new Date();date.setTime(date.getTime()+(time*1000));var time="; expires="+date.toUTCString()}else{var time=""}var path=path?"; path="+path:"";document.cookie=name+"="+encodeURIComponent(value)+time+path}else{var v="";if(document.cookie&&document.cookie!=""){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=$.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+"=")){v=decodeURIComponent(cookie.substring(name.length+1))+"";break}}}return v}};$.xget=function(url,callback,retry){if(retry===undefined){retry=1}$.ajax({type:"GET",url:url,dataType:"text",timeout:15000,xhrFields:{withCredentials:true},success:function(r){if(!r){return callback(-100,"Server Response Empty!")}var s=xn.json_decode(r);if(!s){return callback(-101,r)}if(s.code===undefined){if($.isPlainObject(s)){return callback(0,s)}else{return callback(-102,r)}}else{if(s.code==0){return callback(0,s.message)}else{if(s.code<0){return callback(s.code,s.message)}else{return callback(s.code,s.message)}}}},error:function(xhr,type){if(retry>1){$.xget(url,callback,retry-1)}else{if((type!="abort"&&type!="error")||xhr.status==403||xhr.status==404){return callback(-1000,"xhr.responseText:"+xhr.responseText+", type:"+type)}else{return callback(-1001,"xhr.responseText:"+xhr.responseText+", type:"+type);console.log("xhr.responseText:"+xhr.responseText+", type:"+type)}}}})};(function($,window,undefined){var hasOnProgress=("onprogress" in $.ajaxSettings.xhr());if(!hasOnProgress){return}var oldXHR=$.ajaxSettings.xhr;$.ajaxSettings.xhr=function(){var xhr=oldXHR();if(xhr instanceof window.XMLHttpRequest){xhr.addEventListener("progress",this.progress,false)}if(xhr.upload){xhr.upload.addEventListener("progress",this.progress,false)}return xhr}})(jQuery,window);$.unparam=function(str){return str.split("&").reduce(function(params,param){var paramSplit=param.split("=").map(function(value){return decodeURIComponent(value.replace("+"," "))});params[paramSplit[0]]=paramSplit[1];return params},{})};$.xpost=function(url,postdata,callback,progress_callback){if($.isFunction(postdata)){callback=postdata;postdata=null}$.ajax({type:"POST",url:url,data:postdata,dataType:"text",timeout:6000000,progress:function(e){if(e.lengthComputable){if(progress_callback){progress_callback(e.loaded/e.total*100)}}},success:function(r){if(!r){return callback(-1,"Server Response Empty!")}var s=xn.json_decode(r);if(!s||s.code===undefined){return callback(-1,"Server Response Not JSON："+r)}if(s.code==0){return callback(0,s.message)}else{if(s.code<0){return callback(s.code,s.message)}else{return callback(s.code,s.message)}}},error:function(xhr,type){if(type!="abort"&&type!="error"||xhr.status==403){return callback(-1000,"xhr.responseText:"+xhr.responseText+", type:"+type)}else{return callback(-1001,"xhr.responseText:"+xhr.responseText+", type:"+type);console.log("xhr.responseText:"+xhr.responseText+", type:"+type)}}})};$.required=[];$.require=function(){var args=null;if(arguments[0]&&typeof arguments[0]=="object"){args=arguments[0];if(arguments[1]){args.push(arguments[1])}}else{args=arguments}this.load=function(args,i){var _this=this;if(args[i]===undefined){return}if(typeof args[i]=="string"){var js=args[i];if($.inArray(js,$.required)!=-1){if(i<args.length){this.load(args,i+1)}return}$.required.push(js);var script=document.createElement("script");script.src=js;script.onerror=function(){console.log("script load error:"+js);
_this.load(args,i+1)};if(xn.is_ie){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){_this.load(args,i+1);script.onreadystatechange=null}}}else{script.onload=function(){_this.load(args,i+1)}}document.getElementsByTagName("head")[0].appendChild(script)}else{if(typeof args[i]=="function"){var f=args[i];f();if(i<args.length){this.load(args,i+1)}}else{_this.load(args,i+1)}}};this.load(args,0)};$.require_css=function(filename){var tags=document.getElementsByTagName("link");for(var i=0;i<tags.length;i++){if(tags[i].href.indexOf(filename)!=-1){return false}}var link=document.createElement("link");link.rel="stylesheet";link.type="text/css";link.href=filename;document.getElementsByTagName("head")[0].appendChild(link)};$.fn.loading=function(action){return this.each(function(){var jthis=$(this);jthis.css("position","relative");if(!this.jloading){this.jloading=$('<div class="loading"><img src="static/loading.gif" /></div>').appendTo(jthis)}var jloading=this.jloading.show();if(!action){var offset=jthis.position();var left=offset.left;var top=offset.top;var w=jthis.width();var h=xn.min(jthis.height(),$(window).height());var left=w/2-jloading.width()/2;var top=(h/2-jloading.height()/2)*2/3;jloading.css("position","absolute").css("left",left).css("top",top)}else{if(action=="close"){jloading.remove();this.jloading=null}}})};$.fn.base64_encode_file=function(width,height,action){var action=action||"thumb";var jform=$(this);var jsubmit=jform.find('input[type="submit"]');jform.on("change",'input[type="file"]',function(e){var jfile=$(this);var jassoc=jfile.data("assoc")?$("#"+jfile.data("assoc")):null;var obj=e.target;jsubmit.button("disabled");var file=obj.files[0];var jhidden=$('<input type="hidden" name="'+obj.name+'" />').appendTo(jform);obj.name="";var reader=new FileReader();reader.readAsDataURL(file);reader.onload=function(e){if(width&&height&&xn.substr(this.result,0,10)=="data:image"){xn.image_resize(this.result,function(code,message){if(code==0){if(jassoc){jassoc.attr("src",message.data)}jhidden.val(message.data)}else{alert(message)}jsubmit.button("reset")},{width:width,height:height,action:action})}else{if(jassoc){jassoc.attr("src",this.result)}jhidden.val(this.result);jsubmit.button("reset")}}})};xn.base64_data_image_type=function(s){r=s.match(/^data:image\/(\w+);/i);return r[1]};xn.image_background_opacity=function(data,width,height,callback){var x=0;var y=0;var checked={"0-0":1};var unchecked={};var unchecked_arr=[];for(var i=0;i<width;i++){var k1=i+"-0";var k2=i+"-"+(height-1);unchecked[k1]=1;unchecked[k2]=1;unchecked_arr.push(k1);unchecked_arr.push(k2)}for(var i=1;i<height-1;i++){var k1="0-"+i;var k2=(width-1)+"-"+i;unchecked[k1]=1;unchecked[k2]=1;unchecked_arr.push(k1);unchecked_arr.push(k2)}var bg=[data[0],data[1],data[2],data[3]];if(!((bg[0]==0&&bg[1]==0&&bg[2]==0)||(bg[0]==255&&bg[1]==255&&bg[2]==255))){return}function get_one_unchecked(){if(unchecked_arr.length==0){return false}var k=unchecked_arr.pop();var r=xn.explode("-",k);return r}function checked_push(x,y){var k=x+"-"+y;if(checked[k]===undefined){checked[k]=1}}function unchecked_push(x,y){var k=x+"-"+y;if(checked[k]===undefined&&unchecked[k]===undefined){unchecked[k]=1;unchecked_arr.push(k)}}var n=0;while(1){var curr=get_one_unchecked();if(!curr){break}var x=xn.intval(curr[0]);var y=xn.intval(curr[1]);var pos=4*((y*width)+x);var r=data[pos];var g=data[pos+1];var b=data[pos+2];var a=data[pos+3];if(Math.abs(r-bg[0])<2&&Math.abs(g==bg[1])<2&&Math.abs(b==bg[2])<2){if(!callback){data[pos+0]=0;data[pos+1]=0;data[pos+2]=0;data[pos+3]=0}else{callback(data,pos)}if(y>0){unchecked_push(x,y-1)}if(x<width-1){unchecked_push(x+1,y)}if(y<height-1){unchecked_push(x,y+1)}if(x>0){unchecked_push(x-1,y)}}checked_push(x,y)}};xn.image_file_type=function(file_base64_data){var pre=xn.substr(file_base64_data,0,14);if(pre=="data:image/gif"){return"gif"}else{if(pre=="data:image/jpe"||pre=="data:image/jpg"){return"jpg"}else{if(pre=="data:image/png"){return"png"}}}return"jpg"};xn.image_resize=function(file_base64_data,callback,options){var thumb_width=options.width||2560;var thumb_height=options.height||4960;var action=options.action||"thumb";var filetype=options.filetype||xn.image_file_type(file_base64_data);var qulity=options.qulity||0.9;if(thumb_width<1){return callback(-1,"缩略图宽度不能小于 1 / thumb image width length is less 1 pix")}if(xn.substr(file_base64_data,0,10)!="data:image"){return callback(-1,"传入的 base64 数据有问题 / deformed base64 data")}var img=new Image();img.onload=function(){var water_img_onload=function(water_on,orientation){var canvas=document.createElement("canvas");var width=0,height=0,canvas_width=0,canvas_height=0;var dx=0,dy=0;var img_width=img.width;var img_height=img.height;var qkswap=false;if(orientation==6||orientation==8){img_width=img.height;img_height=img.width;qkswap=true}if(xn.substr(file_base64_data,0,14)=="data:image/gif"){return callback(0,{width:img_width,height:img_height,data:file_base64_data})}if(action=="thumb"){if(img_width<thumb_width&&img_height&&thumb_height){width=img_width;
height=img_height}else{if(img_width/img_height>thumb_width/thumb_height){var width=thumb_width;var height=Math.ceil((thumb_width/img_width)*img_height)}else{var height=thumb_height;var width=Math.ceil((img_width/img_height)*thumb_height)}}canvas_width=width;canvas_height=height}else{if(action=="clip"){if(img_width<thumb_width&&img_height&&thumb_height){if(img_height>thumb_height){thumb_width=width=img_width}else{thumb_width=width=img_width;thumb_height=height=img_height}}else{if(img_width/img_height>thumb_width/thumb_height){var height=thumb_height;var width=Math.ceil((img_width/img_height)*thumb_height);var dx=-((width-thumb_width)/2);var dy=0}else{var width=thumb_width;var height=Math.ceil((img_height/img_width)*thumb_width);dx=0;dy=-((height-thumb_height)/2)}}canvas_width=thumb_width;canvas_height=thumb_height}}canvas.width=canvas_width;canvas.height=canvas_height;var ctx=canvas.getContext("2d");switch(orientation){case 3:ctx.translate(width,height);ctx.rotate(180*Math.PI/180);break;case 6:ctx.translate(width,0);ctx.rotate(90*Math.PI/180);break;case 8:ctx.translate(0,height);ctx.rotate(-90*Math.PI/180);break;default:break}ctx.clearRect(0,0,width,height);ctx.drawImage(img,0,0,img.width,img.height,qkswap?dy:dx,qkswap?dx:dy,qkswap?height:width,qkswap?width:height);if(water_on){var water_width=water_img.width;var water_height=water_img.height;if(img_width>400&&img_width>water_width&&water_width>4){var x=img_width-water_width-16;var y=img_height-water_height-16;ctx.globalAlpha=0.3;ctx.beginPath();ctx.drawImage(water_img,0,0,water_width,water_height,x,y,water_width,water_height);ctx.closePath();ctx.save()}}var imagedata=ctx.getImageData(0,0,canvas_width,canvas_height);var data=imagedata.data;ctx.putImageData(imagedata,0,0);if(filetype=="jpg"){filetype="jpeg"}var s=canvas.toDataURL("image/"+filetype,qulity);if(callback){callback(0,{width:width,height:height,data:s})}};var water_img=new Image();water_img.onload=function(){var reader=new FileReader();reader.onload=function(e){var view=new DataView(e.target.result);if(view.getUint16(0,false)!=65496){water_img_onload(true,-2);return}var length=view.byteLength,offset=2;while(offset<length){if(view.getUint16(offset+2,false)<=8){water_img_onload(true,-1);return}var marker=view.getUint16(offset,false);offset+=2;if(marker==65505){if(view.getUint32(offset+=2,false)!=1165519206){water_img_onload(true,-1);return}var little=view.getUint16(offset+=6,false)==18761;offset+=view.getUint32(offset+4,little);var tags=view.getUint16(offset,little);offset+=2;for(var i=0;i<tags;i++){if(view.getUint16(offset+(i*12),little)==274){water_img_onload(true,view.getUint16(offset+(i*12)+8,little));return}}}else{if((marker&65280)!=65280){break}else{offset+=view.getUint16(offset,false)}}}water_img_onload(true,-1);return};var dataarr=file_base64_data.split(","),mime=dataarr[0].match(/:(.*?);/)[1],bstr=atob(dataarr[1]),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n)}reader.readAsArrayBuffer(new Blob([u8arr],{type:mime}))};water_img.onerror=function(){water_img_onload(false,0)};water_img.src=options.water_image_url||xn.options.water_image_url;if(!water_img.src){water_img_onload(false,0)}};img.onerror=function(e){console.log(e);alert(e)};img.src=file_base64_data};xn.upload_file=function(file,upload_url,postdata,complete_callback,progress_callback,thumb_callback){postdata=postdata||{};postdata.width=postdata.width||2560;postdata.height=postdata.height||4960;var ajax_upload_file=function(base64_data){var ajax_upload=function(upload_url,postdata,complete_callback){$.xpost(upload_url,postdata,function(code,message){if(code!=0){return complete_callback(code,message)}if(complete_callback){complete_callback(0,message)}},function(percent){if(progress_callback){progress_callback(percent)}})};if(xn.substr(base64_data,0,10)=="data:image"){var filename=file.name?file.name:(file.type=="image/png"?"capture.png":"capture.jpg");xn.image_resize(base64_data,function(code,message){if(code!=0){return alert(message)}postdata.name=filename;postdata.data=message.data;postdata.width=message.width;postdata.height=message.height;ajax_upload(upload_url,postdata,complete_callback)},postdata)}else{var filename=file.name?file.name:"";postdata.name=filename;postdata.data=base64_data;postdata.width=0;postdata.height=0;ajax_upload(upload_url,postdata,complete_callback)}};if(xn.is_string(file)&&xn.substr(file,0,10)=="data:image"){var base64_data=file;if(thumb_callback){thumb_callback(base64_data)}ajax_upload_file(base64_data)}else{var reader=new FileReader();reader.readAsDataURL(file);reader.onload=function(){var base64_data=this.result;if(thumb_callback){thumb_callback(base64_data)}ajax_upload_file(base64_data)}}};xn.get_files_from_event=function(e){function get_paste_files(e){return e.clipboardData&&e.clipboardData.items?e.clipboardData.items:null}function get_drop_files(e){return e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null}if(e.originalEvent){e=e.originalEvent}if(e.type=="change"&&e.target&&e.target.files&&e.target.files.length>0){return e.target.files
}var files=e.type=="paste"?get_paste_files(e):get_drop_files(e);return files};xn.nodeHasParent=function(node,topNode){if(!topNode){topNode=document.body}var pnode=node.parentNode;while(pnode){if(pnode==topNode){return true}pnode=pnode.parentNode}return false};window.onerror=function(msg,url,line){if(!window.debug){return}alert("error: "+msg+"\r\n line: "+line+"\r\n url: "+url);return false};$.fn.removeDeep=function(){this.each(function(){$(this).find("*").off()});this.off();this.remove();return this};$.fn.emptyDeep=function(){this.each(function(){$(this).find("*").off()});this.empty();return this};$.fn.son=$.fn.children;$.fn.checked=function(v){if(v){v=v instanceof Array?v.map(function(vv){return vv+""}):v+""}var filter=function(){return !(v instanceof Array)?(this.value==v):($.inArray(this.value,v)!=-1)};if(v){this.each(function(){if(xn.strtolower(this.tagName)=="select"){$(this).find("option").filter(filter).prop("selected",true)}else{if(xn.strtolower(this.type)=="checkbox"||strtolower(this.type)=="radio"){$(this).filter(filter).prop("checked",true)}}});return this}else{if(this.length==0){return[]}var tagtype=xn.strtolower(this[0].tagName)=="select"?"select":xn.strtolower(this[0].type);var r=(tagtype=="checkbox"?[]:"");for(var i=0;i<this.length;i++){var tag=this[i];if(tagtype=="select"){var joption=$(tag).find("option").filter(function(){return this.selected==true});if(joption.length>0){return joption.attr("value")}}else{if(tagtype=="checkbox"){if(tag.checked){r.push(tag.value)}}else{if(tagtype=="radio"){if(tag.checked){return tag.value}}}}}return r}};$.fn.button=function(status){return this.each(function(){var jthis=$(this);jthis.queue(function(next){var loading_text=jthis.attr("loading-text")||jthis.data("loading-text");if(status=="loading"){jthis.prop("disabled",true).addClass("disabled").attr("default-text",jthis.text());jthis.html(loading_text)}else{if(status=="disabled"){jthis.prop("disabled",true).addClass("disabled")}else{if(status=="enable"){jthis.prop("disabled",false).removeClass("disabled")}else{if(status=="reset"){jthis.prop("disabled",false).removeClass("disabled");if(jthis.attr("default-text")){jthis.text(jthis.attr("default-text"))}}else{jthis.text(status)}}}}next()})})};$.fn.location=function(href){var jthis=this;jthis.queue(function(next){if(!href){window.location.reload()}else{window.location=href}next()})};$.fn.alert=function(message){var jthis=$(this);jpthis=jthis.parent(".form-group");jpthis.addClass("has-danger");jthis.addClass("form-control-danger");jthis.data("title",message).tooltip("show");return this};$.fn.serializeObject=function(){var self=this,json={},push_counters={},patterns={"validate":/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,"key":/[a-zA-Z0-9_]+|(?=\[\])/g,"push":/^$/,"fixed":/^\d+$/,"named":/^[a-zA-Z0-9_]+$/};this.build=function(base,key,value){base[key]=value;return base};this.push_counter=function(key){if(push_counters[key]===undefined){push_counters[key]=0}return push_counters[key]++};$.each($(this).serializeArray(),function(){if(!patterns.validate.test(this.name)){return}var k,keys=this.name.match(patterns.key),merge=this.value,reverse_key=this.name;while((k=keys.pop())!==undefined){reverse_key=reverse_key.replace(new RegExp("\\["+k+"\\]$"),"");if(k.match(patterns.push)){merge=self.build([],self.push_counter(reverse_key),merge)}else{if(k.match(patterns.fixed)){merge=self.build([],k,merge)}else{if(k.match(patterns.named)){merge=self.build({},k,merge)}}}}json=$.extend(true,json,merge)});return json};$.fn.attr_name_index=function(rowid){return this.each(function(){var jthis=$(this);var name=jthis.attr("name");name=name.replace(/\[(\d*)\]/,function(all,oldid){var newid=rowid===undefined?xn.intval(oldid)+1:rowid;return"["+newid+"]"});jthis.attr("name",name)})};$.fn.reset=function(){var jform=$(this);jform.find('input[type="submit"]').button("reset");jform.find("input").tooltip("dispose")};$.fn.base_href=function(base){function replace_url(url){if(url.match("/^https?:///i")){return url}else{return base+url}}this.find("img").each(function(){var jthis=$(this);var src=jthis.attr("src");if(src){jthis.attr("src",replace_url(src))}});this.find("a").each(function(){var jthis=$(this);var href=jthis.attr("href");if(href){jthis.attr("href",replace_url(href))}});return this};$.each_sync=function(array,func,callback){async.series((function(){var func_arr=[];for(var i=0;i<array.length;i++){var f=function(i){return function(callback){func(i,callback)}};func_arr.push(f(i))}return func_arr})(),function(error,results){if(callback){callback(null,"complete")}})};$.fn.xn_position=function(jfloat,pos,offset){var jthis=$(this);var jparent=jthis.offsetParent();var pos=pos||0;var offset=offset||{left:0,top:0};offset.left=offset.left||0;offset.top=offset.top||0;if(jfloat.offsetParent().get(0)!=jthis.offsetParent().get(0)){jfloat.appendTo(jthis.offsetParent())}jfloat.css("position","absolute").css("z-index",jthis.css("z-index")+1);var p=jthis.position();p.w=jthis.outerWidth();p.h=jthis.outerHeight();
var m={left:0,top:0};m.w=jfloat.outerWidth();m.h=jfloat.outerHeight();p.margin={left:xn.floatval(jthis.css("margin-left")),top:xn.floatval(jthis.css("margin-top")),right:xn.floatval(jthis.css("margin-right")),bottom:xn.floatval(jthis.css("margin-bottom")),};p.border={left:xn.floatval(jthis.css("border-left-width")),top:xn.floatval(jthis.css("border-top-width")),right:xn.floatval(jthis.css("border-right-width")),bottom:xn.floatval(jthis.css("border-bottom-width")),};if(pos==12){m.left=p.left+((p.w-m.w)/2);m.top=p.top-m.h}else{if(pos==1){m.left=p.left+(p.w-m.w);m.top=p.top-m.h}else{if(pos==11){m.left=p.left;m.top=p.top-m.h}else{if(pos==2){m.left=p.left+p.w;m.top=p.top}else{if(pos==3){m.left=p.left+p.w;m.top=p.top+((p.h-m.h)/2)}else{if(pos==4){m.left=p.left+p.w;m.top=p.top+(p.h-m.h)}else{if(pos==5){m.left=p.left+(p.w-m.w);m.top=p.top+p.h}else{if(pos==6){m.left=p.left+((p.w-m.w)/2);m.top=p.top+p.h}else{if(pos==7){m.left=p.left;m.top=p.top+p.h}else{if(pos==8){m.left=p.left-m.w;m.top=p.top+(p.h-m.h)}else{if(pos==9){m.left=p.left-m.w;m.top=p.top+((p.h-m.h)/2)}else{if(pos==10){m.left=p.left-m.w;m.top=p.top}else{if(pos==-12){m.left=p.left+((p.w-m.w)/2);m.top=p.top}else{if(pos==-1){m.left=p.left+(p.w-m.w);m.top=p.top}else{if(pos==-3){m.left=p.left+p.w-m.w;m.top=p.top+((p.h-m.h)/2)}else{if(pos==-5){m.left=p.left+(p.w-m.w);m.top=p.top+p.h-m.h}else{if(pos==-6){m.left=p.left+((p.w-m.w)/2);m.top=p.top+p.h-m.h}else{if(pos==-7){m.left=p.left;m.top=p.top+p.h-m.h}else{if(pos==-9){m.left=p.left;m.top=p.top+((p.h-m.h)/2)}else{if(pos==-11){m.left=p.left;m.top=p.top-m.h+m.h}else{if(pos==0){m.left=p.left+((p.w-m.w)/2);m.top=p.top+((p.h-m.h)/2)}}}}}}}}}}}}}}}}}}}}}jfloat.css({left:m.left+offset.left,top:m.top+offset.top})};$.fn.xn_menu=function(jmenu,pos,option){var jthis=$(this);var pos=pos||6;var offset={};var option=option||{hidearrow:0};var jparent=jmenu.offsetParent();if(!jmenu.jarrow&&!option.hidearrow){jmenu.jarrow=$('<div class="arrow arrow-up" style="display: none;"><div class="arrow-box"></div></div>').insertAfter(jthis)}if(!option.hidearrow){if(pos==2||pos==3||pos==4){jmenu.jarrow.addClass("arrow-left");offset.left=7}else{if(pos==5||pos==6||pos==7){jmenu.jarrow.addClass("arrow-up");offset.top=7}else{if(pos==8||pos==9||pos==10){jmenu.jarrow.addClass("arrow-right");offset.left=-7}else{if(pos==11||pos==12||pos==1){jmenu.jarrow.addClass("arrow-down");offset.top=-7}}}}}var arr_pos_map={2:10,3:9,4:8,5:1,6:12,7:11,8:4,8:3,10:2,11:7,12:6,1:5};var arr_offset_map={2:{left:-1,top:10},3:{left:-1,top:0},4:{left:-1,top:-10},5:{left:-10,top:-1},6:{left:0,top:-1},7:{left:10,top:-1},8:{left:1,top:-10},9:{left:1,top:0},10:{left:1,top:10},11:{left:10,top:1},12:{left:0,top:1},1:{left:-10,top:1},};jthis.xn_position(jmenu,pos,offset);jmenu.toggle();var mpos=arr_pos_map[pos];if(!option.hidearrow){jmenu.xn_position(jmenu.jarrow,mpos,arr_offset_map[mpos])}if(!option.hidearrow){jmenu.jarrow.toggle()}var menu_hide=function(e){if(jmenu.is(":hidden")){return}jmenu.toggle();if(!option.hidearrow){jmenu.jarrow.hide()}$("body").off("click",menu_hide)};$("body").off("click",menu_hide).on("click",menu_hide)};$.fn.xn_dropdown=function(){return this.each(function(){var jthis=$(this);var jtoggler=jthis.find(".dropdown-toggle");var jdropmenu=jthis.find(".dropdown-menu");var pos=jthis.data("pos")||5;var hidearrow=!!jthis.data("hidearrow");jtoggler.on("click",function(){jtoggler.xn_menu(jdropmenu,pos,{hidearrow:hidearrow});return false})})};$.fn.xn_toggle=function(){return this.each(function(){var jthis=$(this);var jtarget=$(jthis.data("target"));var target_hide=function(e){if(jtarget.is(":hidden")){return}jtarget.slideToggle("fast");$("body").off("click",target_hide)};jthis.on("click",function(){jtarget.slideToggle("fast");$("body").off("click",target_hide).on("click",target_hide);return false})})};$(".xn-dropdown").xn_dropdown();$(".xn-toggle").xn_toggle();console.log("xiuno.js loaded");

// File: view/async.js
(function(){var async={};var root,previous_async;root=this;if(root!=null){previous_async=root.async}async.noConflict=function(){root.async=previous_async;return async};function only_once(fn){var called=false;return function(){if(called){throw new Error("Callback was already called.")}called=true;fn.apply(root,arguments)}}var _toString=Object.prototype.toString;var _isArray=Array.isArray||function(obj){return _toString.call(obj)==="[object Array]"};var _each=function(arr,iterator){if(arr.forEach){return arr.forEach(iterator)}for(var i=0;i<arr.length;i+=1){iterator(arr[i],i,arr)}};var _map=function(arr,iterator){if(arr.map){return arr.map(iterator)}var results=[];_each(arr,function(x,i,a){results.push(iterator(x,i,a))});return results};var _reduce=function(arr,iterator,memo){if(arr.reduce){return arr.reduce(iterator,memo)}_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)});return memo};var _keys=function(obj){if(Object.keys){return Object.keys(obj)}var keys=[];for(var k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}return keys};if(typeof process==="undefined"||!(process.nextTick)){if(typeof setImmediate==="function"){async.nextTick=function(fn){setImmediate(fn)};async.setImmediate=async.nextTick}else{async.nextTick=function(fn){setTimeout(fn,0)};async.setImmediate=async.nextTick}}else{async.nextTick=process.nextTick;if(typeof setImmediate!=="undefined"){async.setImmediate=function(fn){setImmediate(fn)}}else{async.setImmediate=async.nextTick}}async.each=function(arr,iterator,callback){callback=callback||function(){};if(!arr.length){return callback()}var completed=0;_each(arr,function(x){iterator(x,only_once(done))});function done(err){if(err){callback(err);callback=function(){}}else{completed+=1;if(completed>=arr.length){callback()}}}};async.forEach=async.each;async.eachSeries=function(arr,iterator,callback){callback=callback||function(){};if(!arr.length){return callback()}var completed=0;var iterate=function(){iterator(arr[completed],function(err){if(err){callback(err);callback=function(){}}else{completed+=1;if(completed>=arr.length){callback()}else{iterate()}}})};iterate()};async.forEachSeries=async.eachSeries;async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])};async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){callback=callback||function(){};if(!arr.length||limit<=0){return callback()}var completed=0;var started=0;var running=0;(function replenish(){if(completed>=arr.length){return callback()}while(running<limit&&started<arr.length){started+=1;running+=1;iterator(arr[started-1],function(err){if(err){callback(err);callback=function(){}}else{completed+=1;running-=1;if(completed>=arr.length){callback()}else{replenish()}}})}})()}};var doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}};var doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}};var doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}};var _asyncMap=function(eachfn,arr,iterator,callback){arr=_map(arr,function(x,i){return{index:i,value:x}});if(!callback){eachfn(arr,function(x,callback){iterator(x.value,function(err){callback(err)})})}else{var results=[];eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v;callback(err)})},function(err){callback(err,results)})}};async.map=doParallel(_asyncMap);async.mapSeries=doSeries(_asyncMap);async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v;callback(err)})},function(err){callback(err,memo)})};async.inject=async.reduce;async.foldl=async.reduce;async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)};async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}});eachfn(arr,function(x,callback){iterator(x.value,function(v){if(v){results.push(x)}callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter);async.filterSeries=doSeries(_filter);async.select=async.filter;async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}});eachfn(arr,function(x,callback){iterator(x.value,function(v){if(!v){results.push(x)
}callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject);async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){if(result){main_callback(x);main_callback=function(){}}else{callback()}})},function(err){main_callback()})};async.detect=doParallel(_detect);async.detectSeries=doSeries(_detect);async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){if(v){main_callback(true);main_callback=function(){}}callback()})},function(err){main_callback(false)})};async.any=async.some;async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){if(!v){main_callback(false);main_callback=function(){}}callback()})},function(err){main_callback(true)})};async.all=async.every;async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){if(err){callback(err)}else{callback(null,{value:x,criteria:criteria})}})},function(err,results){if(err){return callback(err)}else{var fn=function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))}})};async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);var remainingTasks=keys.length;if(!remainingTasks){return callback()}var results={};var listeners=[];var addListener=function(fn){listeners.unshift(fn)};var removeListener=function(fn){for(var i=0;i<listeners.length;i+=1){if(listeners[i]===fn){listeners.splice(i,1);return}}};var taskComplete=function(){remainingTasks--;_each(listeners.slice(0),function(fn){fn()})};addListener(function(){if(!remainingTasks){var theCallback=callback;callback=function(){};theCallback(null,results)}});_each(keys,function(k){var task=_isArray(tasks[k])?tasks[k]:[tasks[k]];var taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}if(err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]});safeResults[k]=args;callback(err,safeResults);callback=function(){}}else{results[k]=args;async.setImmediate(taskComplete)}};var requires=task.slice(0,Math.abs(task.length-1))||[];var ready=function(){return _reduce(requires,function(a,x){return(a&&results.hasOwnProperty(x))},true)&&!results.hasOwnProperty(k)};if(ready()){task[task.length-1](taskCallback,results)}else{var listener=function(){if(ready()){removeListener(listener);task[task.length-1](taskCallback,results)}};addListener(listener)}})};async.retry=function(times,task,callback){var DEFAULT_TIMES=5;var attempts=[];if(typeof times==="function"){callback=task;task=times;times=DEFAULT_TIMES}times=parseInt(times,10)||DEFAULT_TIMES;var wrappedTask=function(wrappedCallback,wrappedResults){var retryAttempt=function(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}};while(times){attempts.push(retryAttempt(task,!(times-=1)))}async.series(attempts,function(done,data){data=data[data.length-1];(wrappedCallback||callback)(data.err,data.result)})};return callback?wrappedTask():wrappedTask};async.waterfall=function(tasks,callback){callback=callback||function(){};if(!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length){return callback()}var wrapIterator=function(iterator){return function(err){if(err){callback.apply(null,arguments);callback=function(){}}else{var args=Array.prototype.slice.call(arguments,1);var next=iterator.next();if(next){args.push(wrapIterator(next))}else{args.push(callback)}async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){callback=callback||function(){};if(_isArray(tasks)){eachfn.map(tasks,function(fn,callback){if(fn){fn(function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}callback.call(null,err,args)})}},callback)}else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}results[k]=args;callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)};async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)};async.series=function(tasks,callback){callback=callback||function(){};if(_isArray(tasks)){async.mapSeries(tasks,function(fn,callback){if(fn){fn(function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}callback.call(null,err,args)})}},callback)}else{var results={};
async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}results[k]=args;callback(err)})},function(err){callback(err,results)})}};async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){if(tasks.length){tasks[index].apply(null,arguments)}return fn.next()};fn.next=function(){return(index<tasks.length-1)?makeCallback(index+1):null};return fn};return makeCallback(0)};async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]);cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat);async.concatSeries=doSeries(_concat);async.whilst=function(test,iterator,callback){if(test()){iterator(function(err){if(err){return callback(err)}async.whilst(test,iterator,callback)})}else{callback()}};async.doWhilst=function(iterator,test,callback){iterator(function(err){if(err){return callback(err)}var args=Array.prototype.slice.call(arguments,1);if(test.apply(null,args)){async.doWhilst(iterator,test,callback)}else{callback()}})};async.until=function(test,iterator,callback){if(!test()){iterator(function(err){if(err){return callback(err)}async.until(test,iterator,callback)})}else{callback()}};async.doUntil=function(iterator,test,callback){iterator(function(err){if(err){return callback(err)}var args=Array.prototype.slice.call(arguments,1);if(!test.apply(null,args)){async.doUntil(iterator,test,callback)}else{callback()}})};async.queue=function(worker,concurrency){if(concurrency===undefined){concurrency=1}function _insert(q,data,pos,callback){if(!q.started){q.started=true}if(!_isArray(data)){data=[data]}if(data.length==0){return async.setImmediate(function(){if(q.drain){q.drain()}})}_each(data,function(task){var item={data:task,callback:typeof callback==="function"?callback:null};if(pos){q.tasks.unshift(item)}else{q.tasks.push(item)}if(q.saturated&&q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var workers=0;var q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(data,callback){_insert(q,data,false,callback)},kill:function(){q.drain=null;q.tasks=[]},unshift:function(data,callback){_insert(q,data,true,callback)},process:function(){if(!q.paused&&workers<q.concurrency&&q.tasks.length){var task=q.tasks.shift();if(q.empty&&q.tasks.length===0){q.empty()}workers+=1;var next=function(){workers-=1;if(task.callback){task.callback.apply(task,arguments)}if(q.drain&&q.tasks.length+workers===0){q.drain()}q.process()};var cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},idle:function(){return q.tasks.length+workers===0},pause:function(){if(q.paused===true){return}q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;for(var w=1;w<=q.concurrency;w++){async.setImmediate(q.process)}}};return q};async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){var beg=-1,end=sequence.length-1;while(beg<end){var mid=beg+((end-beg+1)>>>1);if(compare(item,sequence[mid])>=0){beg=mid}else{end=mid-1}}return beg}function _insert(q,data,priority,callback){if(!q.started){q.started=true}if(!_isArray(data)){data=[data]}if(data.length==0){return async.setImmediate(function(){if(q.drain){q.drain()}})}_each(data,function(task){var item={data:task,priority:priority,callback:typeof callback==="function"?callback:null};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item);if(q.saturated&&q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);q.push=function(data,priority,callback){_insert(q,data,priority,callback)};delete q.unshift;return q};async.cargo=function(worker,payload){var working=false,tasks=[];var cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,drained:true,push:function(data,callback){if(!_isArray(data)){data=[data]}_each(data,function(task){tasks.push({data:task,callback:typeof callback==="function"?callback:null});cargo.drained=false;if(cargo.saturated&&tasks.length===payload){cargo.saturated()}});async.setImmediate(cargo.process)},process:function process(){if(working){return}if(tasks.length===0){if(cargo.drain&&!cargo.drained){cargo.drain()}cargo.drained=true;return}var ts=typeof payload==="number"?tasks.splice(0,payload):tasks.splice(0,tasks.length);var ds=_map(ts,function(task){return task.data});if(cargo.empty){cargo.empty()}working=true;worker(ds,function(){working=false;var args=arguments;_each(ts,function(data){if(data.callback){data.callback.apply(null,args)}});process()})},length:function(){return tasks.length},running:function(){return working
}};return cargo};var _console_fn=function(name){return function(fn){var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(err){if(console.error){console.error(err)}}else{if(console[name]){_each(args,function(x){console[name](x)})}}}}]))}};async.log=_console_fn("log");async.dir=_console_fn("dir");async.memoize=function(fn,hasher){var memo={};var queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments);var callback=args.pop();var key=hasher.apply(null,args);if(key in memo){async.nextTick(function(){callback.apply(null,memo[key])})}else{if(key in queues){queues[key].push(callback)}else{queues[key]=[callback];fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,arguments)}}]))}}};memoized.memo=memo;memoized.unmemoized=fn;return memoized};async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}};async.times=function(count,iterator,callback){var counter=[];for(var i=0;i<count;i++){counter.push(i)}return async.map(counter,iterator,callback)};async.timesSeries=function(count,iterator,callback){var counter=[];for(var i=0;i<count;i++){counter.push(i)}return async.mapSeries(counter,iterator,callback)};async.seq=function(){var fns=arguments;return function(){var that=this;var args=Array.prototype.slice.call(arguments);var callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0];var nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))};var _applyEach=function(eachfn,fns){var go=function(){var that=this;var args=Array.prototype.slice.call(arguments);var callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return go.apply(this,args)}else{return go}};async.applyEach=doParallel(_applyEach);async.applyEachSeries=doSeries(_applyEach);async.forever=function(fn,callback){function next(err){if(err){if(callback){return callback(err)}throw err}fn(next)}next()};if(typeof module!=="undefined"&&module.exports){module.exports=async}else{if(typeof define!=="undefined"&&define.amd){define([],function(){return async})}else{root.async=async}}}());

// File: view/form.js
xn.form_radio=function(name,arr,checked){var checked=checked||0;if(xn.empty(arr)){arr=[lang.no,lang.yes]}var s="";$.each(arr,function(k,v){var add=k==checked?' checked="checked"':"";s+='<label class="custom-input custom-radio"><input type="radio" name="'+name+'" value="'+k+'"'+add+" />"+v+"</label> &nbsp; \r\n"});return s};xn.form_options=function(arr,checked){var checked=checked||0;var s="";$.each(arr,function(k,v){var add=k==checked?' selected="selected"':"";s+='<option value="'+k+'"'+add+">"+v+"</option> \r\n"});return s};xn.form_select=function(name,arr,checked,id){var checked=checked||0;var id=id||true;if(xn.empty(arr)){return""}var idadd=id===true?'id="'+name+'"':(id?'id="'+id+'"':"");var s="";s+='<select name="'+name+'" class="custom-select" '+idadd+"> \r\n";s+=xn.form_options(arr,checked);s+="</select> \r\n";return s};

